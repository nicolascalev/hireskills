// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id                            String    @id
  username                      String    @unique
  createdAt                     DateTime  @default(now()) @map(name: "created_at")
  fullName                      String    @map("full_name")
  company                       String?
  role                          String?
  email                         String    @unique
  avatarUrl                     String?   @map("avatar_url") @db.Text
  location                      String?
  startedCoding                 DateTime? @map("started_coding")
  startedProfessionalExperience DateTime? @map("started_professional_experience")
  portfolioUrl                  String?   @map("portfolio_url")
  linkedinUsername              String?   @map("linkedin_username")
  githubUsername                String?   @map("github_username")
  leetcodeUsername              String?   @map("leetcode_username")
  summary                       String?   @db.Text
  jobSeeking                    Boolean   @default(false) @map("job_seeking")
  displayJobSeeking             Boolean   @default(false) @map("display_job_seeking")
  displayGithubActivity         Boolean   @default(false) @map("display_github_activity")
  displayEmail                  Boolean   @default(false) @map("display_email")
  displayPublicResume           Boolean   @default(false) @map("display_public_resume")
  displayActiveOpenSource       Boolean   @default(false) @map("display_active_open_source")
  resumes                       Resume[]
  defaultResumeId               String?   @map("default_resume_id")
  career                        Json
  tools                         Tool[]
  skills                        Skill[]

  @@map("users")
}

model Resume {
  id               String   @id @default(uuid())
  createdAt        DateTime @default(now()) @map(name: "created_at")
  url              String   @db.Text
  key              String   @db.Text
  originalFilename String   @map("original_filename")
  userId           String   @map("user_id")
  user             User     @relation(fields: [userId], references: [id])
}

model Tool {
  name  String @id
  users User[]
}

model Skill {
  name  String @id
  users User[]
}
